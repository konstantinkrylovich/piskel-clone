!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){var n,o,i={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,d=[],u=r(7);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(b(n.parts[a],t))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(b(n.parts[a],t));i[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function m(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),d.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,r);r.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function b(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=l++;r=c||(c=g(t)),n=x.bind(null,r,a,!1),o=x.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),n=function(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=u(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,t),o=function(){p(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){p(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return f(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var a=r[o];(s=i[a.id]).refs--,n.push(s)}e&&f(h(e,t),t);for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var w,y=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,r){(function(r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){"use strict";function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,a){var s=i.URL||i.webkitURL,c=document.createElement("a");r=r||e.name||"download",c.download=r,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):n(c.href)?t(e,r,a):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,i){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),r);else if(n(e))t(e,r,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){o(a)})}}:function(e,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var a="application/octet-stream"===e.type,s=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},l.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,u=d.createObjectURL(e);o?o.location=u:location.href=u,o=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?n.apply(t,o):n)||(e.exports=i)}).call(this,r(4))},function(e,t,r){var n;!function(r,o,i,a){"use strict";var s,c={URL:r.URL||r.webkitURL||r.mozURL||r.msURL,getUserMedia:(s=i.getUserMedia||i.webkitGetUserMedia||i.mozGetUserMedia||i.msGetUserMedia,s?s.bind(i):s),requestAnimFrame:r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||c.noop,t=t||0,!c.requestAnimFrame)return setTimeout(e,t);var r=(new Date).getTime(),n=new Object,o=c.requestAnimFrame;return n.value=o(function i(){(new Date).getTime()-r>=t?e.call():n.value=o(i)}),n},Blob:r.Blob||r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,btoa:function(){var e=r.btoa||function(e){for(var t="",r=0,n=e.length,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,a=void 0,s=void 0,c=void 0,l=void 0,d=void 0,u=void 0;r<n;)c=(i=e.charCodeAt(r++))>>2,l=(3&i)<<4|(a=e.charCodeAt(r++))>>4,d=(15&a)<<2|(s=e.charCodeAt(r++))>>6,u=63&s,isNaN(a)?d=u=64:isNaN(s)&&(u=64),t=t+o.charAt(c)+o.charAt(l)+o.charAt(d)+o.charAt(u);return t};return e?e.bind(r):c.noop}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return c.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return r.Worker},blob:function(){return c.Blob},Uint8Array:function(){return r.Uint8Array},Uint32Array:function(){return r.Uint32Array},videoCodecs:function(){var e=o.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return t}()},noop:function(){},each:function(e,t){var r=void 0,n=void 0;if(c.isArray(e))for(r=-1,n=e.length;++r<n&&!1!==t(r,e[r]););else if(c.isObject(e))for(r in e)if(e.hasOwnProperty(r)&&!1===t(r,e[r]))break},mergeOptions:function(e,t){if(c.isObject(e)&&c.isObject(t)&&Object.keys){var r={};return c.each(e,function(t,n){r[t]=e[t]}),c.each(t,function(n,o){var i=t[n];c.isObject(i)&&e[n]?r[n]=c.mergeOptions(e[n],i):r[n]=i}),r}},setCSSAttr:function(e,t,r){c.isElement(e)&&(c.isString(t)&&c.isString(r)?e.style[t]=r:c.isObject(t)&&c.each(t,function(t,r){e.style[t]=r}))},removeElement:function(e){c.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!c.isString(e))return{};try{var t=new c.Blob([e],{type:"text/javascript"}),r=c.URL.createObjectURL(t);return{objectUrl:r,worker:new Worker(r)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};if(!o.body||!1===e.resizeFont)return e.fontSize;var t=e.text,r=e.gifWidth,n=parseInt(e.fontSize,10),i=parseInt(e.minFontSize,10),s=o.createElement("div"),c=o.createElement("span");for(s.setAttribute("width",r),s.appendChild(c),c.innerHTML=t,c.style.fontSize=n+"px",c.style.textIndent="-9999px",c.style.visibility="hidden",o.body.appendChild(c);c.offsetWidth>r&&n>=i;)c.style.fontSize=--n+"px";return o.body.removeChild(c),n+"px"},webWorkerError:!1},l=Object.freeze({default:c}),d={validate:function(e){e=c.isObject(e)?e:{};var t={};return c.each(d.validators,function(r,n){var o=n.errorCode;if(!e[o]&&!n.condition)return(t=n).error=!0,!1}),delete t.condition,t},isValid:function(e){var t=!0!==d.validate(e).error;return t},validators:[{condition:c.isFunction(c.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:c.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:c.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:c.isFunction(c.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:c.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:c.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:c.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},u=Object.freeze({default:d}),f=function(){},h={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:f,completeCallback:f,saveRenderingContexts:!1,savedRenderingContexts:[],showFrameText:!0,crossOrigin:"Anonymous",waterMark:null,waterMarkHeight:null,waterMarkWidth:null,waterMarkXCoordinate:1,waterMarkYCoordinate:1},m=Object.freeze({default:h});function p(){return d.isValid()}function g(){var e,t,r,n,o,i=256,a=499,s=491,c=487,l=503,d=3*l,u=i-1,f=4,h=100,m=16,p=1<<m,g=10,v=10,b=p>>v,w=p<<g-v,y=6,x=(i>>3)*(1<<y),S=30,C=1024,k=256,E=1<<18,F=[],L=[],A=[],R=[];function I(e,t,r,n,a){var s,c,l,d,u,f,h;for((l=t-e)<-1&&(l=-1),(d=t+e)>i&&(d=i),s=t+1,c=t-1,f=1;s<d||c>l;){if(u=R[f++],s<d){h=o[s++];try{h[0]-=u*(h[0]-r)/E|0,h[1]-=u*(h[1]-n)/E|0,h[2]-=u*(h[2]-a)/E|0}catch(e){}}if(c>l){h=o[c--];try{h[0]-=u*(h[0]-r)/E|0,h[1]-=u*(h[1]-n)/E|0,h[2]-=u*(h[2]-a)/E|0}catch(e){}}}}function T(e,t,r,n,i){var a=o[t],s=e/C;a[0]-=s*(a[0]-r)|0,a[1]-=s*(a[1]-n)|0,a[2]-=s*(a[2]-i)|0}function M(e,t,r){var n,a,s,c,l,d,u,h,p,y;for(p=h=~(1<<31),u=d=-1,n=0;n<i;n++)(a=(y=o[n])[0]-e)<0&&(a=-a),(s=y[1]-t)<0&&(s=-s),a+=s,(s=y[2]-r)<0&&(s=-s),(a+=s)<h&&(h=a,d=n),(c=a-(L[n]>>m-f))<p&&(p=c,u=n),l=A[n]>>v,A[n]-=l,L[n]+=l<<g;return A[d]+=b,L[d]-=w,u}(function(e,a,s){var c,l;for(t=e,r=a,n=s,o=new Array(i),c=0;c<i;c++)o[c]=new Array(4),(l=o[c])[0]=l[1]=l[2]=(c<<f+8)/i|0,A[c]=p/i|0,L[c]=0}).apply(this,arguments);var O={map:function(e,t,r){var n,a,s,c,l,d,u;for(l=1e3,u=-1,a=(n=F[t])-1;n<i||a>=0;)n<i&&((s=(d=o[n])[1]-t)>=l?n=i:(n++,s<0&&(s=-s),(c=d[0]-e)<0&&(c=-c),(s+=c)<l&&((c=d[2]-r)<0&&(c=-c),(s+=c)<l&&(l=s,u=d[3])))),a>=0&&((s=t-(d=o[a])[1])>=l?a=-1:(a--,s<0&&(s=-s),(c=d[0]-e)<0&&(c=-c),(s+=c)<l&&((c=d[2]-r)<0&&(c=-c),(s+=c)<l&&(l=s,u=d[3]))));return u}};return O.process=function(){return function(){var o,i,u,m,p,g,v,b,w,E,F,L,A,O;for(r<d&&(n=1),e=30+(n-1)/3,L=t,A=0,O=r,E=(F=r/(3*n))/h|0,b=C,(v=(g=x)>>y)<=1&&(v=0),o=0;o<v;o++)R[o]=b*((v*v-o*o)*k/(v*v));for(w=r<d?3:r%a!=0?3*a:r%s!=0?3*s:r%c!=0?3*c:3*l,o=0;o<F;)if(T(b,i=M(u=(255&L[A+0])<<f,m=(255&L[A+1])<<f,p=(255&L[A+2])<<f),u,m,p),0!==v&&I(v,i,u,m,p),(A+=w)>=O&&(A-=r),0===E&&(E=1),++o%E==0)for(b-=b/e,(v=(g-=g/S)>>y)<=1&&(v=0),i=0;i<v;i++)R[i]=b*((v*v-i*i)*k/(v*v))}(),function(){var e;for(e=0;e<i;e++)o[e][0]>>=f,o[e][1]>>=f,o[e][2]>>=f,o[e][3]=e}(),function(){var e,t,r,n,a,s,c,l;for(c=0,l=0,e=0;e<i;e++){for(r=e,n=(a=o[e])[1],t=e+1;t<i;t++)(s=o[t])[1]<n&&(r=t,n=s[1]);if(s=o[r],e!=r&&(t=s[0],s[0]=a[0],a[0]=t,t=s[1],s[1]=a[1],a[1]=t,t=s[2],s[2]=a[2],a[2]=t,t=s[3],s[3]=a[3],a[3]=t),n!=c){for(F[c]=l+e>>1,t=c+1;t<n;t++)F[t]=e;c=n,l=e}}for(F[c]=l+u>>1,t=c+1;t<256;t++)F[t]=u}(),function(){for(var e=[],t=new Array(i),r=0;r<i;r++)t[o[r][3]]=r;for(var n=0,a=0;a<i;a++){var s=t[a];e[n++]=o[s][0],e[n++]=o[s][1],e[n++]=o[s][2]}return e}()},O}function v(){try{this.onmessage=function(t){var r,n=t.data||{};n.gifshot&&(r=e.run(n),postMessage(r))}}catch(e){}var e={dataToRGB:function(e,t,r){for(var n=t*r*4,o=0,i=[];o<n;)i.push(e[o++]),i.push(e[o++]),i.push(e[o++]),o++;return i},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],r=0;r<e.length;r+=3){var n=e[r],o=e[r+1],i=e[r+2];t.push(n<<16|o<<8|i)}return t},processFrameWithQuantizer:function(e,t,r,n){for(var o=this.dataToRGB(e,t,r),i=new g(o,o.length,n),a=i.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),c=t*r,l=new Uint8Array(c),d=0,u=0;u<c;u++){var f=o[d++],h=o[d++],m=o[d++];l[u]=i.map(f,h,m)}return{pixels:l,palette:s}},run:function(e){var t=e=e||{},r=t.height,n=(t.palette,t.sampleInterval),o=t.width,i=e.data;return this.processFrameWithQuantizer(i,o,r,n)}};return e}function b(e,t,r,n){var o=0,i=(n=n===a?{}:n).loop===a?null:n.loop,s=n.palette===a?null:n.palette;if(t<=0||r<=0||t>65535||r>65535)throw"Width/Height invalid.";e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=0|(null!==s?128:0),e[o++]=0,e[o++]=0,null!==i){if(i<0||i>65535)throw"Loop count invalid.";e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=0}var c=!1;this.addFrame=function(t,r,n,i,l,d){if(!0===c&&(--o,c=!1),d=d===a?{}:d,t<0||r<0||t>65535||r>65535)throw"x/y invalid.";if(n<=0||i<=0||n>65535||i>65535)throw"Width/Height invalid.";if(l.length<n*i)throw"Not enough pixels for the frame size.";var u=!0,f=d.palette;if(f!==a&&null!==f||(u=!1,f=s),f===a||null===f)throw"Must supply either a local or global palette.";for(var h=function(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(f),m=0;h>>=1;)++m;h=1<<m;var p=d.delay===a?0:d.delay,g=d.disposal===a?0:d.disposal;if(g<0||g>3)throw"Disposal out of range.";var v=!1,b=0;if(d.transparent!==a&&null!==d.transparent&&(v=!0,(b=d.transparent)<0||b>=h))throw"Transparent color index.";if((0!==g||v||0!==p)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=g<<2|(!0===v?1:0),e[o++]=255&p,e[o++]=p>>8&255,e[o++]=b,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=!0===u?128|m-1:0,!0===u)for(var w=0,y=f.length;w<y;++w){var x=f[w];e[o++]=x>>16&255,e[o++]=x>>8&255,e[o++]=255&x}o=function(e,t,r,n){e[t++]=r;var o=t++,i=1<<r,s=i-1,c=i+1,l=c+1,d=r+1,u=0,f=0;function h(r){for(;u>=r;)e[t++]=255&f,f>>=8,u-=8,t===o+256&&(e[o]=255,o=t++)}function m(e){f|=e<<u,u+=d,h(8)}var p=n[0]&s,g={};m(i);for(var v=1,b=n.length;v<b;++v){var w=n[v]&s,y=p<<8|w,x=g[y];if(x===a){for(f|=p<<u,u+=d;u>=8;)e[t++]=255&f,f>>=8,u-=8,t===o+256&&(e[o]=255,o=t++);4096===l?(m(i),l=c+1,d=r+1,g={}):(l>=1<<d&&++d,g[y]=l++),p=w}else p=x}m(p),m(c),h(1),o+1===t?e[o]=0:(e[o]=t-o-1,e[t++]=0);return t}(e,o,m<2?2:m,l)},this.end=function(){return!1===c&&(e[o++]=59,c=!0),o}}var w=function(){},y=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=w,this.onRenderProgressCallback=w,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};y.prototype={workerMethods:v(),initializeWebWorkers:function(e){var t,r=g.toString()+"("+v.toString()+"());",n=void 0,i=void 0,a=void 0,s=-1,l="";for(t=e.numWorkers;++s<t;)n=c.createWebWorker(r),c.isObject(n)?(i=n.objectUrl,a=n.worker,this.workers.push({worker:a,objectUrl:i}),this.availableWorkers.push(a)):(l=n,c.webWorkerError=!!n);this.workerError=l,this.canvas=o.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,r="",n=-1;++n<t;)r+=this.byteMap[e[n]];return r},onFrameFinished:function(e){var t=this,r=t.frames,n=!!(t.options.images||[]).length,o=r.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,n&&e(t.numRenderedFrames/r.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/r.length),o?t.generatingGIF||t.generateGIF(r,t.onRenderCompleteCallback):c.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,r=(this.options,this.options),n=r.progressCallback,o=r.sampleInterval,i=this.frames,s=void 0,c=void 0,l=function(){var e=(arguments.length>0&&arguments[0]!==a?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(c),t.onFrameFinished(n)};(s=i[e]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=o,s.beingProcessed=!0,s.gifshot=!0,(c=this.getWorker())?(c.onmessage=l,c.postMessage(s)):l({data:t.workerMethods.run(s)}))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var r=this.frames[t];if(!r.done&&!r.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var r=[],n={loop:this.repeat},o=this.options,i=o.interval,a=o.frameDuration,s=!!o.images.length,l=o.gifHeight,d=o.gifWidth,u=new b(r,d,l,n),f=this.onRenderProgressCallback,h=s?100*i:0,m=void 0;this.generatingGIF=!0,c.each(e,function(t,r){var n=r.palette;f(.75+.25*r.position*1/e.length);for(var o=0;o<a;o++)u.addFrame(0,0,d,l,r.pixels,{palette:n,delay:h})}),u.end(),f(1),this.frames=[],this.generatingGIF=!1,c.isFunction(t)&&(m=this.bufferToString(r),t("data:image/gif;base64,"+c.btoa(m)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t,r){t=c.isObject(t)?t:{};var n=this.ctx,o=this.options,i=o.gifWidth,a=o.gifHeight,s=c.getFontSize(t),l=t,d=l.filter,u=l.fontColor,f=l.fontFamily,h=l.fontWeight,m=(l.gifHeight,l.gifWidth,l.text),p=l.textAlign,g=l.textBaseline,v=l.waterMark,b=l.waterMarkHeight,w=l.waterMarkWidth,y=l.waterMarkXCoordinate,x=l.waterMarkYCoordinate,S=t.textXCoordinate?t.textXCoordinate:"left"===p?1:"right"===p?i:i/2,C=t.textYCoordinate?t.textYCoordinate:"top"===g?1:"center"===g?a/2:a,k=h+" "+s+" "+f,E=r&&t.showFrameText?r:m,F=void 0;try{n.filter=d,n.drawImage(e,0,0,i,a),E&&(n.font=k,n.fillStyle=u,n.textAlign=p,n.textBaseline=g,n.fillText(E,S,C)),v&&n.drawImage(v,y,x,w,b),F=n.getImageData(0,0,i,a),this.addFrameImageData(F)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=this.frames,r=e.data;this.frames.push({data:r,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this;t.startRendering(function(r){t.destroyWorkers(),c.requestTimeout(function(){e(r)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;c.each(e,function(e,t){var r=t.worker,n=t.objectUrl;r.terminate(),c.URL.revokeObjectURL(n)})}}};var x=function(){},S={getGIF:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=arguments[1];t=c.isFunction(t)?t:x;var r=o.createElement("canvas"),n=void 0,i=!!e.images.length,s=e.cameraStream,l=e.crop,d=e.filter,u=e.fontColor,f=e.fontFamily,h=e.fontWeight,m=e.keepCameraOn,p=(e.numWorkers,e.progressCallback),g=e.saveRenderingContexts,v=e.savedRenderingContexts,b=e.text,w=e.textAlign,S=e.textBaseline,C=e.videoElement,k=e.videoHeight,E=e.videoWidth,F=e.webcamVideoElement,L=e.waterMark,A=e.waterMarkHeight,R=e.waterMarkWidth,I=e.waterMarkXCoordinate,T=e.waterMarkYCoordinate,M=Number(e.gifWidth),O=Number(e.gifHeight),U=Number(e.interval),D=(Number(e.sampleInterval),i?0:1e3*U),j=[],z=v.length?v.length:e.numFrames,W=z,B=new y(e),q=c.getFontSize(e),P=e.textXCoordinate?e.textXCoordinate:"left"===w?1:"right"===w?M:M/2,V=e.textYCoordinate?e.textYCoordinate:"top"===S?1:"center"===S?O/2:O,H=h+" "+q+" "+f,N=l?Math.floor(l.scaledWidth/2):0,G=l?E-l.scaledWidth:0,X=l?Math.floor(l.scaledHeight/2):0,Y=l?k-l.scaledHeight:0;z=z!==a?z:10,U=U!==a?U:.1,r.width=M,r.height=O,n=r.getContext("2d"),function e(){v.length||0!==C.currentTime?function e(){var r=W-1;function o(){var o;g&&j.push(n.getImageData(0,0,M,O)),L&&n.drawImage(L,I,T,R,A),b&&(n.font=H,n.fillStyle=u,n.textAlign=w,n.textBaseline=S,n.fillText(b,P,V)),o=n.getImageData(0,0,M,O),B.addFrameImageData(o),p((z-(W=r))/z),r>0&&c.requestTimeout(e,D),W||B.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:C,webcamVideoElement:F,savedRenderingContexts:j,keepCameraOn:m})})}v.length?(n.putImageData(v[z-W],0,0),o()):function e(){try{G>E&&(G=E),Y>k&&(Y=k),N<0&&(N=0),X<0&&(X=0),n.filter=d,n.drawImage(C,N,X,G,Y,0,0,M,O),o()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(e,100)}}()}():c.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.videoWidth,r=e.videoHeight,n=e.gifWidth,o=e.gifHeight,i={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>r?(i.width=Math.round(t*(o/r))-n,i.scaledWidth=Math.round(i.width*(r/o))):(i.height=Math.round(r*(n/t))-o,i.scaledHeight=Math.round(i.height*(t/n))),i}},C={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var r=t.cameraStream,n=t.completedCallback,o=t.videoElement;o&&(o.videoWidth>0&&o.videoHeight>0?(o.removeEventListener("loadeddata",C.findVideoSize),n({videoElement:o,cameraStream:r,videoWidth:o.videoWidth,videoHeight:o.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout(function(){C.findVideoSize(t)},400)):n({videoElement:o,cameraStream:r,videoWidth:C.defaultVideoDimensions.width,videoHeight:C.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,r=e.cameraStream,n=e.completedCallback,o=e.streamedCallback,i=e.videoElement;if(c.isFunction(o)&&o(),t){if(c.isString(t))i.src=t,i.innerHTML='<source src="'+t+'" type="video/'+c.getExtension(t)+'" />';else if(t instanceof Blob){try{i.src=c.URL.createObjectURL(t)}catch(e){}i.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(i.mozSrcObject)i.mozSrcObject=r;else if(c.URL)try{i.srcObject=r,i.src=c.URL.createObjectURL(r)}catch(e){i.srcObject=r}i.play(),c.requestTimeout(function e(){e.count=e.count||0,!0===C.loadedData?(C.findVideoSize({videoElement:i,cameraStream:r,completedCallback:n}),C.loadedData=!1):(e.count+=1)>10?C.findVideoSize({videoElement:i,cameraStream:r,completedCallback:n}):e()},0)},startStreaming:function(e){var t=c.isFunction(e.error)?e.error:c.noop,r=c.isFunction(e.streamed)?e.streamed:c.noop,n=c.isFunction(e.completed)?e.completed:c.noop,i=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,l=e.options,d=e.webcamVideoElement,u=c.isElement(a)?a:d||o.createElement("video");i&&(u.crossOrigin=l.crossOrigin),u.autoplay=!0,u.loop=!0,u.muted=!0,u.addEventListener("loadeddata",function(e){C.loadedData=!0,l.offset&&(u.currentTime=l.offset)}),a?C.stream({videoElement:u,existingVideo:a,completedCallback:n}):s?C.stream({videoElement:u,cameraStream:s,streamedCallback:r,completedCallback:n}):c.getUserMedia({video:!0},function(e){C.stream({videoElement:u,cameraStream:e,streamedCallback:r,completedCallback:n})},t)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==a?arguments[1]:{},r=t.timeout!==a?t.timeout:0,n=t.callback,o=t.webcamVideoElement,i=void 0;r>0&&(i=c.requestTimeout(function(){C.onStreamingTimeout(n)},1e4)),C.startStreaming({error:function(){n({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(i)},completed:function(){var t=arguments.length>0&&arguments[0]!==a?arguments[0]:{},r=t.cameraStream,n=t.videoElement,o=t.videoHeight,i=t.videoWidth;e({cameraStream:r,videoElement:n,videoHeight:o,videoWidth:i})},lastCameraStream:t.lastCameraStream,webcamVideoElement:o,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){var t=e=c.isObject(e)?e:{},r=t.keepCameraOn,n=t.videoElement,o=t.webcamVideoElement,i=e.cameraStream||{},a=i.getTracks&&i.getTracks()||[],s=!!a.length,l=a[0];!r&&s&&c.isFunction(l.stop)&&l.stop(),c.isElement(n)&&!o&&(n.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&n.src&&c.URL.revokeObjectURL(n.src),c.removeElement(n))}};function k(e){e=c.isObject(e)?e:{},C.stopVideoStreaming(e)}function E(e,t){var r=e.options||{},n=r.images,i=r.video,a=Number(r.gifWidth),s=Number(r.gifHeight),l=(Number(r.numFrames),e.cameraStream),d=e.videoElement,u=e.videoWidth,f=e.videoHeight,h=S.getCropDimensions({videoWidth:u,videoHeight:f,gifHeight:s,gifWidth:a}),m=t;r.crop=h,r.videoElement=d,r.videoWidth=u,r.videoHeight=f,r.cameraStream=l,c.isElement(d)&&(d.width=a+h.width,d.height=s+h.height,r.webcamVideoElement||(c.setCSSAttr(d,{position:"fixed",opacity:"0"}),o.body.appendChild(d)),d.play(),S.getGIF(r,function(e){n&&n.length||i&&i.length||k(e),m(e)}))}function F(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var r=c.mergeOptions(h,e)||{},n=e.cameraStream,i=r.images,s=i?i.length:0,l=r.video,u=r.webcamVideoElement;r=c.mergeOptions(r,{gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)}),s?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,r=e.images,n=e.options,i=e.imagesLength,s=d.validate({getUserMedia:!0,"window.URL":!0}),l=[],u=0,f=void 0,h=void 0;if(s.error)return t(s);function m(){c.each(l,function(e,t){t&&(t.text?h.addFrame(t.img,n,t.text):h.addFrame(t,n))}),function(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})})}(h,t)}h=new y(n),c.each(r,function(e,r){var a=r;r.src&&(a=a.src),c.isElement(a)?(n.crossOrigin&&(a.crossOrigin=n.crossOrigin),l[e]=a,(u+=1)===i&&m()):c.isString(a)&&(f=new Image,n.crossOrigin&&(f.crossOrigin=n.crossOrigin),function(n){r.text&&(n.text=r.text),n.onerror=function(e){var r=void 0;if(0==--i)return(r={}).error="None of the requested images was capable of being retrieved",t(r)},n.onload=function(t){r.text?l[e]={img:n,text:n.text}:l[e]=n,(u+=1)===i&&m(),c.removeElement(n)},n.src=a}(f),c.setCSSAttr(f,{position:"fixed",opacity:"0"}),o.body.appendChild(f))})}({images:i,imagesLength:s,callback:t,options:r}):l?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,r=e.existingVideo,n=e.options,o=d.validate({getUserMedia:!0,"window.URL":!0}),i=void 0,s=void 0;if(o.error)return t(o);if(c.isElement(r)&&r.src){if(s=r.src,i=c.getExtension(s),!c.isSupported.videoCodecs[i])return t(d.messages.videoCodecs)}else c.isArray(r)&&c.each(r,function(e,t){if(i=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),c.isSupported.videoCodecs[i])return r=t,!1});C.startStreaming({completed:function(e){e.options=n||{},E(e,t)},existingVideo:r,crossOrigin:n.crossOrigin,options:n})}({existingVideo:l,callback:t,options:r}):function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,r=e.lastCameraStream,n=e.options,o=e.webcamVideoElement;if(!p())return t(d.validate());n.savedRenderingContexts.length?S.getGIF(n,function(e){t(e)}):C.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};e.options=n||{},E(e,t)},{lastCameraStream:r,callback:t,webcamVideoElement:o,crossOrigin:n.crossOrigin})}({lastCameraStream:n,callback:t,webcamVideoElement:u,options:r})}}var L={utils:l,error:u,defaultOptions:m,createGIF:F,takeSnapShot:function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var r=c.mergeOptions(h,e);F(c.mergeOptions(r,{interval:.1,numFrames:1,gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)}),t)}},stopVideoStreaming:k,isSupported:function(){return d.isValid()},isWebCamGIFSupported:p,isExistingVideoGIFSupported:function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,function(e,r){c.isSupported.videoCodecs[r]&&(t=!0)}),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return d.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return d.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(n=function(){return L}.apply(t,[]))===a||(e.exports=n)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(6);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,"#pen {\n  background-image: url(\"/piskel-clone/assets/images/pencil.png\");\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n#eraser {\n  background-image: url(\"/piskel-clone/assets/images/eraser.png\");\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n#paint-bucket {\n  background-image: url(\"/piskel-clone/assets/images/paint-bucket.png\");\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n.tools-container,\n.colors-container {\n  width: 124px;\n  /* box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.24), 0px 0px 4px rgba(0, 0, 0, 0.12); */\n  margin-left: 6px; }\n\n.tools {\n  display: flex;\n  flex-direction: column; }\n\n.fa-arrows-h:hover {\n  cursor: pointer; }\n\n.pen-size-picker {\n  box-sizing: border-box;\n  width: 20px;\n  height: 20px;\n  margin-right: 2px;\n  border: 2px solid #444;\n  cursor: pointer; }\n\n.pen-size-picker.selected {\n  border: 3px solid #fb3700; }\n\n.pen-size-picker:before {\n  content: '';\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  display: block; }\n\n.pen-size-picker[data-size='1'] {\n  padding: 4px; }\n\n.pen-size-picker[data-size='2'] {\n  padding: 3px; }\n\n.pen-size-picker[data-size='3'] {\n  padding: 2px; }\n\n.pen-size-picker[data-size='4'] {\n  padding: 1px; }\n\n#primary-color,\n#secondary-color {\n  width: 48px;\n  height: 49px;\n  padding: 0; }\n\n#primary-color:hover,\n#secondary-color:hover {\n  cursor: pointer; }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,r){var n=r(9);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,".frame-container {\n  background-color: #888;\n  position: relative;\n  border: 2px solid #444;\n  border-radius: 3px;\n  margin: 5px 0;\n  width: 96px;\n  height: 96px;\n  box-sizing: content-box;\n  position: relative; }\n\n.frame-container.selected {\n  border: 3px solid #fb3700; }\n\n.frame-container:hover .duplicate-frame,\n.frame-container:hover .delete-frame,\n.frame-container:hover .title-overlay {\n  opacity: 1; }\n\n.duplicate-frame {\n  bottom: 0;\n  border-top-left-radius: 3px; }\n\n.delete-frame {\n  top: 0;\n  border-bottom-left-radius: 3px; }\n\n.duplicate-frame,\n.delete-frame,\n.title-overlay,\n.tooltip-frame {\n  cursor: pointer;\n  z-index: 10;\n  position: absolute;\n  background-color: rgba(100, 100, 100, 0.6);\n  opacity: 0;\n  height: 30px;\n  width: 30px;\n  border: none; }\n\n.duplicate-frame,\n.delete-frame {\n  right: 0; }\n\n.title-overlay,\n.tooltip-frame {\n  left: 0; }\n\n.title-overlay {\n  bottom: 0;\n  border-top-right-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.tooltip-frame {\n  top: 0;\n  border-bottom-right-radius: 3px;\n  color: #fff;\n  opacity: 1; }\n\n.add-frame {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 8px;\n  padding: 6px 0;\n  overflow: hidden;\n  box-sizing: content-box;\n  width: 96px;\n  border: #888 solid 3px;\n  border-radius: 4px;\n  color: #888;\n  background-color: #222;\n  font-size: 13px;\n  cursor: pointer; }\n\n.add-frame:hover {\n  color: #fff;\n  border: #ddd solid 3px; }\n\n.preview-frame-list {\n  overflow: hidden;\n  height: 100%; }\n\n.preview-frame-list-wrapper {\n  position: relative;\n  height: 100%;\n  overflow: hidden;\n  box-sizing: content-box; }\n\n.frame-list {\n  overflow-y: auto;\n  padding-left: 0;\n  max-height: calc(100% - 37px - 1rem); }\n\n.frame-container.over {\n  border: 2px dashed #000; }\n\n[draggable] {\n  user-select: none;\n  -webkit-user-drag: element; }\n",""])},function(e,t,r){var n=r(11);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,"#preview-canvas {\n  width: 200px;\n  height: 200px;\n  background-position: center;\n  position: relative;\n  background-size: cover;\n  background-color: #888888; }\n\n.preview-canvas {\n  border: 1px solid #000; }\n",""])},function(e,t,r){var n=r(13);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,".drawing-canvas {\n  border: 1px solid #000;\n  background-color: #888888;\n  cursor: url(/assets/images/pen-cursor.png) -30 25, auto; }\n",""])},function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n);var i=function(e,t,r){const n=atob(e),o=[];for(let e=0;e<n.length;e+=r){const t=n.slice(e,e+r),i=new Array(t.length);for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);const a=new Uint8Array(i);o.push(a)}return new Blob(o,{type:t})};r(5);class a{constructor(e="pen"){this.state=e}static swapColor(){const e=document.getElementById("secondary-color"),t=document.getElementById("primary-color"),r=t.value,n=e.value;return e.value=r,t.value=n,n}static changeSelectedPenClass(e){const t=document.querySelector(".pen-size-picker.selected");t&&t.classList.toggle("selected"),e.target.classList.toggle("selected")}static changeSelectedToolClass(e){const t=document.querySelector(".tools-btn.selected");t&&t.classList.toggle("selected"),e.target.classList.toggle("selected")}changeState(e){this.state=e}changeSelectedTool(e,t){this.changeState(t.target.id),a.changeSelectedToolClass(t),e.changeToolState(this.state)}addListeners(e){document.querySelector(".tools-container").addEventListener("click",t=>{t.target.id&&this.changeSelectedTool(e,t)})}static addPenSizeListener(e){const t=document.getElementsByClassName("pen-size-picker");for(let r=0;r<t.length;r+=1)t[r].addEventListener("click",t=>{a.changeSelectedPenClass(t),e.setPenSize(+t.target.getAttribute("data-size"))})}}r(8);class s{constructor(){this.curIndex=1,this.dragElem=null}addFrame(e=document.querySelector(".frame-list").childElementCount){const t=document.createElement("li");this.setSelected(t);const r=document.querySelector(".frame-list");this.curIndex=e;const n=e+1;t.setAttribute("data-title-number",n),t.setAttribute("draggable",!0),t.classList.add("frame-container"),t.innerHTML=`<div class="canvas-container">\n                              <canvas width="96" height="96" class="frame-canvas"></canvas>\n                            </div>\n                            <button class="duplicate-frame"><i class="fa fa-copy"></i></button>\n                            <button class="delete-frame"><i class="fa fa-trash-o"></i></button>\n                            <button class="tooltip-frame">${n}</button>\n                            <div class="title-overlay"><i class="fa fa-arrows"></i></div>`;const o=document.querySelectorAll(".frame-container")[e-1];return o?o.after(t):r.appendChild(t),t}setSelected(e){const t=document.querySelector(".frame-container.selected");t&&t.classList.toggle("selected"),e.classList.toggle("selected"),this.curIndex=+e.getAttribute("data-title-number")-1}removeFrame(e){let t=e.target.parentElement;t.classList.contains("frame-container")||(t=e.target.parentElement.parentElement);const r=+t.getAttribute("data-title-number");if(t.classList.contains("selected")){const e=t.previousSibling;if(e)e.classList.toggle("selected"),this.curIndex=+e.getAttribute("data-title-number");else{const e=t.nextSibling;e.classList.toggle("selected"),this.curIndex=+e.getAttribute("data-title-number")}}else this.curIndex-=1;return t.remove(),r}duplicateFrame(e){let t=e.target.parentElement;t.classList.contains("frame-container")||(t=e.target.parentElement.parentElement);const r=+t.getAttribute("data-title-number"),n=this.addFrame(r);return document.querySelector(".frame-container.selected").classList.toggle("selected"),n.classList.toggle("selected"),this.curIndex=r,r}static changeTitleNumber(e){const t=document.querySelectorAll(".frame-container");for(let r=e-1;r<t.length;r+=1)t[r].setAttribute("data-title-number",r+1),t[r].querySelector(".tooltip-frame").innerText=r+1}handleDragStart(e){e.stopPropagation(),this.dragElem=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)}static handleDragOver(e){return e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}static handleDragEnter(e){e.stopPropagation(),e.target.classList.add("over")}static handleDragLeave(e){e.stopPropagation(),e.target.classList.remove("over")}handleDrop(e,t,r){if(e.stopPropagation(),this.dragElem!==e.currentTarget){const n=+e.currentTarget.getAttribute("data-title-number")-1,o=+this.dragElem.getAttribute("data-title-number")-1;r.swapFrames(n,o),t.reDrawFrame(r.getFrame(o),this.dragElem.querySelector(".frame-canvas")),t.reDrawFrame(r.getFrame(n),e.currentTarget.querySelector(".frame-canvas")),document.querySelector(".frame-container.selected").classList.toggle("selected"),e.currentTarget.classList.toggle("selected"),t.resetCanvas(r.getFrame(n))}return!1}static handleDragEnd(){const e=document.querySelectorAll(".frame-container");for(let t=0;t<e.length;t+=1)e[t].classList.remove("over"),e[t].style.opacity="1"}addDragEventListeners(e,t,r){e.addEventListener("dragstart",e=>{this.handleDragStart(e)},!0),e.addEventListener("dragenter",e=>{s.handleDragEnter(e)},!0),e.addEventListener("dragover",e=>{s.handleDragOver(e)},!0),e.addEventListener("dragleave",e=>{s.handleDragLeave(e)},!0),e.addEventListener("drop",e=>{this.handleDrop(e,t,r)},!0),e.addEventListener("dragend",e=>{s.handleDragEnd(e)},!0)}addListenersToFrame(e,t,r){e.addEventListener("click",()=>{this.setSelected(e),t.resetCanvas(r.getFrame(this.curIndex))}),e.querySelector(".delete-frame").addEventListener("click",e=>{const n=this.removeFrame(e);r.removeFrame(n),n===this.curIndex+1&&t.resetCanvas(r.getFrame(n-2)),s.changeTitleNumber(n),e.stopPropagation()}),e.querySelector(".duplicate-frame").addEventListener("click",n=>{const o=this.duplicateFrame(n),i=r.getFrame(o-1);t.drawSelectedFrame(i),t.resetCanvas(i),t.copyFrame(i),r.addFrameAtIndex(i,o),s.changeTitleNumber(o),this.addListenersToFrame(e.nextSibling,t,r),n.stopPropagation()}),this.addDragEventListeners(e,t,r)}}class c{constructor(e=[]){this.state=e}addFrame(e){this.state.push(e)}addFrameAtIndex(e,t){this.state.splice(t-1,0,e)}swapFrames(e,t){const r=this.state[e];this.state[e]=this.state[t],this.state[t]=r}removeFrame(e){this.state.splice(e-1,1)}getFrame(e){return this.state[e]}get length(){return this.state.length}setFrame(e,t){this.state[t]=e}}r(10);class l{static draw(e){document.querySelector("#preview-canvas").style.cssText=`background-image: url(${e.image}); background-repeat: no-repeat;`}static requestFullscreen(e){e.requestFullscreen&&(e.requestFullscreen(),e.querySelector("#preview-canvas").setAttribute("width","400"),e.querySelector("#preview-canvas").setAttribute("height","400"))}static exitFullscreen(){document.exitFullscreen&&(document.exitFullscreen(),document.querySelector("#preview-canvas").setAttribute("width","200"),document.querySelector("#preview-canvas").setAttribute("height","200"))}}class d{constructor(e,t,r){this.paintedIndices=e,this.colorData=t,this.image=r}}r(12);var u=r(3),f=r.n(u);let h=new c;const m=document.querySelector("#drawing-canvas"),p=new class{constructor(e,t){this.state="pen",this.numCols=e,this.numRows=e,this.canvas=t,this.penSize=1,this.width=t.width,this.height=t.height,this.currentColor="#000000",this.defaultColor="#888888",this.boxSize=Math.floor(this.width/this.numRows),this.frame=new d([],new Array(this.numRows*this.numCols).fill(this.defaultColor),this.canvas.toDataURL()),this.mouseDown=!1,this.clickAndDrag=!0}idToRowCol(e){return{row:Math.floor(e/this.numRows),col:e%this.numCols}}coordsToId(e,t){const r=Math.floor(e/this.boxSize);return Math.floor(t/this.boxSize)*this.numRows+r}setData(e,t){const r=this.frame.colorData[e];return this.clickAndDrag?this.frame.colorData[e]=t:t!==r&&(this.frame.colorData[e]=t),this.frame.paintedIndices.includes(e)||this.frame.paintedIndices.push(e),!0}isValidCol(e){return e>=0&&e<=this.numCols-1}isValidRow(e){return e>=0&&e<=this.numRows-1}colorBox(e,t=this.currentColor,r=this.boxSize,n=this.canvas){const{row:o,col:i}=e;if(!this.isValidCol(i)||!this.isValidRow(o))return!1;const a=n.getContext("2d");return a.fillStyle=t,a.beginPath(),a.fillRect(i*r,o*r,r,r),a.closePath(),console.log("colorBox"),!0}isValidCoords(e,t){return!(e>=this.width||e<=0||t>=this.height||t<=0)}drawBoxes(e,t){const r=this.coordsToId(e,t);for(let e=1;e<=this.penSize;e+=1){let t=0;const n=r+e;for(let n=1;n<=this.penSize;n+=1,t+=this.numCols){const n=r+t+e-1;this.setData(n,this.currentColor),this.colorBox(this.idToRowCol(n),this.currentColor)}if(n%this.numCols==0)break}}setColorData(e,t){const r=this.coordsToId(e,t);for(let e=1;e<=this.penSize;e+=1){let t=0;const n=r+e;for(let n=1;n<=this.penSize;n+=1,t+=this.numCols){const n=r+t+e-1;this.setData(n,this.currentColor)}if(n%this.numCols==0)break}}handleClick(e){if("pen"===this.state||"eraser"===this.state){const t=e.offsetX,r=e.offsetY;if(!this.isValidCoords(t,r))return!1;this.drawBoxes(t,r)}const{paintedIndices:t,colorData:r}=this.frame,n=new d(t,r,this.canvas.toDataURL());return this.drawSelectedFrame(n),n.image=this.canvas.toDataURL(),n}handleMouseMove(e){if("pen"===this.state||"eraser"===this.state){if(!this.mouseDown)return!1;const t=e.offsetX,r=e.offsetY;if(this.clickAndDrag=!0,!this.isValidCoords(t,r))return!1;this.drawBoxes(t,r)}return!0}handleMouseDown(e){"paint-bucket"===this.state?this.colorBucket(e):this.mouseDown=!0}handleMouseUp(e){if("pen"===this.state||"eraser"===this.state){if(!this.clickAndDrag){const t=e.offsetX,r=e.offsetY;if(!this.isValidCoords(t,r))return{};this.setColorData(t,r)}this.mouseDown=!1,this.clickAndDrag=!1}return!0}drawSelectedFrame(e){const t=document.querySelector(".selected .frame-canvas");this.draw(e,t)}draw(e=this.frame,t=this.canvas){const r=Math.floor(t.width/this.numRows);for(let n=0;n<e.paintedIndices.length;n+=1){const o=e.colorData[e.paintedIndices[n]],i=this.idToRowCol(e.paintedIndices[n]);this.colorBox(i,o,r,t)}}resetColorData(){this.frame.colorData=this.frame.colorData.map(()=>this.defaultColor),this.frame.paintedIndices=this.frame.colorData.map((e,t)=>t)}clearPaintedIndices(){this.frame.paintedIndices=[];const{paintedIndices:e,colorData:t}=this.frame;return new d(e,t,this.canvas.toDataURL())}getResetFrame(){const e=new Array(this.numRows*this.numCols).fill(this.defaultColor),t=e.map((e,t)=>t);return new d(t,e,null)}reDrawFrame(e,t){const r=this.getResetFrame();this.draw(r,t),this.draw(e,t)}resetCanvas(e){this.resetColorData(),this.draw(),this.clearPaintedIndices(),this.draw(e)}copyFrame(e){const t=[...e.colorData],r=[...e.paintedIndices],{image:n}=e;this.frame=new d(r,t,n)}changeColor(e){this.currentColor=e}setPenSize(e){this.penSize=e}matchColor(e,t){return e===this.frame.colorData[t]}changeCursor(e){switch(e){case"pen":document.getElementById("drawing-canvas").style.cursor="url(/assets/images/pen-cursor.png) -30 25, auto",this.changeColor(document.getElementById("primary-color").value);break;case"paint-bucket":document.getElementById("drawing-canvas").style.cursor="url(/assets/images/paint-bucket-cursor.png) -25 25, auto",this.changeColor(document.getElementById("primary-color").value);break;case"eraser":document.getElementById("drawing-canvas").style.cursor="url(/assets/images/eraser-cursor.png) -25 25, auto",this.changeColor(this.defaultColor);break;default:document.getElementById("drawing-canvas").style.cursor="url(/assets/images/pen-cursor.png) -30 25, auto"}}changeToolState(e){this.state=e,this.changeCursor(e)}colorBucket(e){const t=e.offsetX,r=e.offsetY;let n=this.coordsToId(t,r);const o=[n],i=this.frame.colorData[n];for(;o.length;){for(n=o.pop();this.matchColor(i,n)&&n>=0;)n-=this.numRows;n+=this.numRows;let e=!1,t=!1,r=this.idToRowCol(n);for(;this.isValidCol(r.col)&&this.matchColor(i,n);)this.setData(n,this.currentColor),this.colorBox(r),r.col>0&&(this.matchColor(i,n-1)?e||(o.push(n-1),e=!0):e&&(e=!1)),r.col<this.numRows-1&&(this.matchColor(i,n+1)?t||(o.push(n+1),t=!0):t&&(t=!1)),n+=this.numRows,r=this.idToRowCol(n)}}}(32,m),g=new s;let v=1;document.querySelector("#view-fullscreen").addEventListener("click",e=>{e.preventDefault(),l.requestFullscreen(document.querySelector(".preview-container"))}),document.querySelector("#exit-fullscreen").addEventListener("click",e=>{e.preventDefault(),l.exitFullscreen()}),document.querySelector("#swap-color").addEventListener("click",()=>{p.changeColor(a.swapColor())}),document.getElementById("primary-color").addEventListener("change",e=>{const t=e.target.value;p.changeColor(t)}),document.querySelector(".add-frame").addEventListener("click",()=>{const e=g.addFrame();p.resetColorData(),p.draw(),h.addFrame(p.clearPaintedIndices()),g.addListenersToFrame(e,p,h)}),document.querySelector("#save").addEventListener("click",()=>{const e=[];h.state.forEach(t=>{e.push(t.image)}),f.a.createGIF({images:e,numFrames:e.length,interval:v},e=>{if(!e.error){const t=e.image.indexOf("64"),r=i(e.image.substring(t+3),"image/gif",512);o()(r,"image.gif")}})}),window.onload=()=>{localStorage.removeItem("frameList");const e=JSON.parse(localStorage.getItem("frameList"));if(e){h=new c(e.state);for(let e=0;e<h.length;e+=1){const t=g.addFrame();p.draw(h.getFrame(e),t.querySelector(".frame-canvas")),g.addListenersToFrame(t,p,h)}p.copyFrame(h.getFrame(h.length-1)),p.draw()}else{const e=g.addFrame();p.resetCanvas(),h.addFrame(p.frame),g.addListenersToFrame(e,p,h)}!function(e){e.addEventListener("click",e=>{h.setFrame(p.handleClick(e),g.curIndex)}),e.addEventListener("mousemove",e=>{p.handleMouseMove(e)}),e.addEventListener("mousedown",e=>{p.handleMouseDown(e)}),e.addEventListener("mouseup",e=>{p.handleMouseUp(e)})}(m),(new a).addListeners(p),a.addPenSizeListener(p),function(){let e=0,t=setInterval(()=>{e>h.length-1&&(e=0);const t=h.state[e];l.draw(t),e+=1},1e3/v);document.querySelector("#range").addEventListener("change",r=>{v=r.target.value,clearInterval(t),t=setInterval(()=>{e>h.length-1&&(e=0);const t=h.state[e];l.draw(t),e+=1},1e3/v)})}()},window.onunload=()=>{const e=JSON.stringify(h);localStorage.setItem("frameList",e)}}]);
//# sourceMappingURL=app.bundle.js.map